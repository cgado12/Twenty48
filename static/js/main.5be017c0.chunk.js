(this.webpackJsonptwenty48=this.webpackJsonptwenty48||[]).push([[0],{46:function(e){e.exports=JSON.parse('{"name":"twenty48","version":"1.2.0","private":true,"homepage":"https://cgado12.github.io/Twenty48/","dependencies":{"@material-ui/core":"^4.12.3","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","@types/jest":"^26.0.15","@types/lodash":"^4.14.170","@types/node":"^12.0.0","@types/react":"^17.0.0","@types/react-dom":"^17.0.0","gh-pages":"^3.2.3","lodash":"^4.17.21","node-sass":"^4.14.1","react":"^17.0.2","react-dom":"^17.0.2","react-dom-confetti":"^0.2.0","react-icons":"^4.2.0","react-scripts":"4.0.3","react-swipeable":"^6.1.2","recoil":"^0.3.1","typescript":"^4.1.2","web-vitals":"^1.0.1"},"scripts":{"start":" PORT=5555 react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","eslint":"eslint \'src/**/*.ts\'","eslint:fix":"eslint --fix \'src/**/*.ts\'","bd":"npm run build && gh-pages -d build"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@typescript-eslint/eslint-plugin":"4.28.2","@typescript-eslint/parser":"4.28.2","eslint":"7.30.0","eslint-config-airbnb":"18.2.1","eslint-config-prettier":"8.3.0","eslint-plugin-prettier":"3.4.0","husky":"^7.0.1","prettier":"2.3.2"}}')},60:function(e,t,r){},61:function(e,t,r){},62:function(e,t,r){},66:function(e,t,r){},67:function(e,t,r){},68:function(e,t,r){},70:function(e,t,r){},71:function(e,t,r){},73:function(e,t,r){},74:function(e,t,r){},79:function(e,t,r){"use strict";r.r(t);var n,c,a=r(1),o=r.n(a),i=r(11),s=r.n(i),d=(r(60),r(4)),l=r(6),u=(r(61),r(62),r(33)),b=r(7),v=function(){return new h(void 0)},h=function e(t){var r=this;if(Object(b.a)(this,e),this.id=void 0,this.value=void 0,this.curRow=void 0,this.curCol=void 0,this.prevRow=void 0,this.prevCol=void 0,this.combined=void 0,this.new=void 0,this.attr=void 0,this.clear=function(){return r.value=0,r.curRow=-1,r.curCol=-1,r.prevRow=-1,r.prevCol=-1,r.new=!0,r},this.reset=function(e,t){return r.prevCol=t,r.prevRow=e,r.curRow=e,r.curCol=t,r.new=!1,r.combined=!1,r},this.setCurrentPosition=function(e,t){return r.curRow=e,r.curCol=t,r},this.notNew=function(){return r.new=!1,r},this.setNew=function(){return r.new=!0,r},t)return this.id=t.id,this.value=t.value,this.curRow=t.curRow,this.curCol=t.curCol,this.prevRow=t.prevRow,this.prevCol=t.prevCol,this.combined=t.combined,this.new=t.new,void(this.attr=t.attr);this.id=Math.random(),this.value=0,this.curRow=-1,this.curCol=-1,this.prevRow=-1,this.prevCol=-1,this.combined=!1,this.new=!1,this.attr=""},j="bestScore",m="gameState",f=[[v(),v(),v(),v()],[v(),v(),v(),v()],[v(),v(),v(),v()],[v(),v(),v(),v()]],O=[2,4,2,2,2,4,2,2,2,2,2,4,2,2,2,2,2,2],p=O.length,g="theme";!function(e){e.DARK="dark",e.LIGHT="light"}(n||(n={})),function(e){e.TWO="two",e.FOUR="four",e.EIGHT="eight",e.SIXTEEN="sixteen",e.THIRYTWO="thirty-two",e.SIXTYFOUR="sixty-four",e.ONETWENTYEIGHT="one-twenty-eight",e.TWOFIFTYSIX="two-fifty-six",e.FIVETWELVE="five-twelve",e.TENTWENTYFOUR="ten-twenty-four",e.TWENTYFORTYEIGHT="twenty-fourty-eight"}(c||(c={}));var w={angle:90,spread:360,startVelocity:70,elementCount:550,dragFriction:.12,duration:4500,stagger:.3,width:"12px",height:"12px",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"]},x=function(e){return e.map((function(e){return e.reverse()}))},N=function(e){for(var t=Object(u.cloneDeep)(f),r=0;r<4;r++)for(var n=0;n<4;n++)t[r][n]=e[n][r];return t},S=function(e){for(var t=0;t<4;t++)for(var r=0;r<4;r++)if(2048===e[t][r].value)return!0;return!1},y=function(e){for(var t=0;t<4;t++)for(var r=0;r<4;r++){if(0===e[t][r].value)return!1;if(3!==t&&e[t][r].value===e[t+1][r].value)return!1;if(3!==r&&e[t][r].value===e[t][r+1].value)return!1;if(0!==t&&e[t][r].value===e[t-1][r].value)return!1;if(0!==r&&e[t][r].value===e[t][r-1].value)return!1}return!0},T=r(13),E=Object(T.b)({key:"theme",default:localStorage.getItem(g)===n.LIGHT?n.LIGHT:n.DARK}),I=(r(66),r(67),r(68),r(3)),C=function(e){var t=e.tile,r=Object(T.d)(E),n=function(e){switch(e){case 0:return"";case 2:return c.TWO;case 4:return c.FOUR;case 8:return c.EIGHT;case 16:return c.SIXTEEN;case 32:return c.THIRYTWO;case 64:return c.SIXTYFOUR;case 128:return c.ONETWENTYEIGHT;case 256:return c.TWOFIFTYSIX;case 512:return c.FIVETWELVE;case 1024:return c.TENTWENTYFOUR;case 2048:default:return c.TWENTYFORTYEIGHT}}(t.value),a=0!==t.value&&t.new?"new":"",o=t.combined?"combined":"";return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{id:"".concat(n?"".concat(n,"-").concat(r):"board-tile"),className:"board-tile board-tile-".concat(r," ").concat(a," ").concat(o," ").concat(t.attr," "),children:Object(I.jsx)("div",{className:"board-value ",children:0!==t.value?t.value:""})},"".concat(t.id))})},R=function(e){var t,r=e.gameboard,n=e.startGame,c=e.updateScore,o=e.setGameboard,i=Object(T.d)(E),s=function(e){switch("KeyR"!==e.code&&e.preventDefault(),e.code){case"ArrowLeft":o(Object(d.a)({},r.move("left")));break;case"ArrowUp":o(Object(d.a)({},r.move("up")));break;case"ArrowRight":o(Object(d.a)({},r.move("right")));break;case"ArrowDown":o(Object(d.a)({},r.move("down")))}};return Object(a.useEffect)((function(){return!0===n&&document.addEventListener("keydown",s),function(){document.removeEventListener("keydown",s)}}),[n]),Object(a.useEffect)((function(){var e=r.board,t=r.score;r.lose||(0!==t&&c(r.score),y(e)&&o(Object(d.a)({},r.setLose())))}),[r,r.board,r.score]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"gameboard-board gameboard-board-".concat(i),children:null===r||void 0===r||null===(t=r.board)||void 0===t?void 0:t.map((function(e,t){return Object(I.jsx)("div",{className:"gameboard-board-row",children:e.map((function(e,t){return Object(I.jsx)("div",{className:"underlay underlay-".concat(i),children:Object(I.jsx)(C,{tile:e})},"".concat(t,"-").concat(Math.random()))}))},"".concat(t,"-").concat(Math.random()))}))}),Object(I.jsx)("p",{className:"instruction-text",children:Object(I.jsx)("i",{children:"Use the arrow keys to combine tiles and get to 2048!"})})]})},k=(r(70),function(e){var t=e.scores,r=e.startGame,n=e.handleStartGame,c=e.removeBestScore,a=Object(T.d)(E);return Object(I.jsxs)("div",{className:"gameboard-header",children:[Object(I.jsxs)("div",{className:"gameboard-header-c1 gameboard-header-c1-".concat(a),children:[Object(I.jsx)("h1",{children:"Twenty"}),Object(I.jsx)("h1",{children:"Forty"}),Object(I.jsx)("h1",{children:"Eight"})]}),Object(I.jsxs)("div",{className:"gameboard-header-c2",children:[Object(I.jsxs)("div",{className:"score score-".concat(a),children:[Object(I.jsx)("h4",{children:" Score "}),Object(I.jsx)("h2",{children:t.score})]}),Object(I.jsx)("div",{className:"new-game new-game-".concat(a),onClick:n,children:Object(I.jsx)("span",{className:"span-".concat(a),children:r?"Restart":"New Game"})})]}),Object(I.jsxs)("div",{className:"gameboard-header-c3",children:[Object(I.jsxs)("div",{className:"best-score best-score-".concat(a),children:[Object(I.jsx)("h4",{children:" Best Score"}),Object(I.jsx)("h2",{children:t.bestScore})]}),Object(I.jsx)("div",{className:"clear clear-".concat(a),onClick:c,children:Object(I.jsx)("span",{className:"span-".concat(a),children:"Clear"})})]})]})}),F={score:0,bestScore:"0"},G=r(24),W=function e(t){var r=this;if(Object(b.a)(this,e),this.board=void 0,this.prevBoard=void 0,this.score=void 0,this.win=void 0,this.lose=void 0,this.started=void 0,this.moved=void 0,this.isMoving=void 0,this.addNewValue=function(){var e=Math.floor(Math.random()*p),t=Math.floor(4*Math.random()),n=Math.floor(4*Math.random());0===r.board[t][n].value?(r.board[t][n].value=O[e],r.board[t][n].setNew()):r.addNewValue()},this.init=function(){return r.started=!0,r.addNewValue(),r},this.clear=function(){return r.board=r.board.map((function(e){return e.map((function(){return new h(void 0)}))})),r.score=0,r.win=!1,r.lose=!1,r.init()},this.setWin=function(){return r.win=!0,r},this.setLose=function(){return r.lose=!0,r},this.operate=function(e){return e=r.slide(e),e=r.combine(e),e=r.slide(e)},this.slide=function(e){var t=e.filter((function(e){return e.value})),r=4-t.length,n=Array(r).fill(0);return t=(n=n.map((function(){return new h(void 0)}))).concat(t)},this.combine=function(e){for(var t=3;t>=1;t--){var n=e[t].value,c=e[t-1].value;n===c&&(e[t].value=n+c,e[t].combined=!0,r.score+=e[t].value,e[t-1].value=0)}return e},this.move=function(e){r.prevBoard=Object(u.cloneDeep)(r.board);for(var t=!1,n=!1,c=!0,a=0;a<4;a++)for(var o=0;o<4;o++)r.board[a][o].reset(a,o);switch(e){case"up":r.board=N(r.board),r.board=x(r.board),n=!0,t=!0;break;case"down":r.board=N(r.board),n=!0;break;case"left":r.board=x(r.board),t=!0;break;case"right":break;default:c=!1}if(c){for(var i=0;i<4;i++)r.board[i]=r.operate(r.board[i]);t&&(r.board=x(r.board)),n&&(r.board=N(r.board))}for(var s=0;s<4;s++)for(var d=0;d<4;d++)r.board[s][d].setCurrentPosition(s,d);for(var l=0;l<4;l++)for(var b=0;b<4;b++)if(r.board[l][b].value)switch(e){case"up":r.board[l][b].attr="\n                ver-u-".concat(r.board[l][b].prevRow-r.board[l][b].curRow," overlay\n              ");break;case"down":r.board[l][b].attr="\n                ver-d-".concat(r.board[l][b].curRow-r.board[l][b].prevRow," overlay\n              ");break;case"left":r.board[l][b].attr="\n                hor-l-".concat(r.board[l][b].prevCol-r.board[l][b].curCol," overlay\n              ");break;default:r.board[l][b].attr="\n                hor-r-".concat(r.board[l][b].curCol-r.board[l][b].prevCol," overlay\n              ")}return function(e,t){for(var r=0;r<4;r++)for(var n=0;n<4;n++)if(e[r][n].value!==t[r][n].value)return!0;return!1}(r.board,r.prevBoard)&&(r.addNewValue(),r.isMoving=!0),r},t)return this.board=t.board.map((function(e){return e.map((function(e){return new h(e)}))})),this.prevBoard=t.prevBoard.map((function(e){return e.map((function(e){return new h(e)}))})),this.score=t.score,this.win=t.win,this.lose=t.lose,this.started=t.started,this.moved=t.moved,void(this.isMoving=t.isMoving);this.board=Object(G.a)(f),this.prevBoard=Object(G.a)(f),this.score=0,this.win=!1,this.lose=!1,this.started=!1,this.moved="noop",this.isMoving=!1},L=(r(71),r(53)),M=r(45),Y=r.n(M),B=(r(73),function(e){var t=e.isGameWon,r=e.reset,n=e.keepGoing,c=e.renderForLose,o=Object(T.d)(E),i=Object(a.useState)(t),s=Object(l.a)(i,2),d=s[0],u=s[1],b=c?"Game Over!":"You Won!",v=c?"Try Again?":"Restart";return Object(a.useEffect)((function(){setTimeout((function(){u(!0)}),500)}),[]),Object(I.jsx)("div",{className:"game-won-container",children:Object(I.jsxs)("div",{className:"game-won-container-box",children:[Object(I.jsx)("h3",{className:"game-won-container-text",children:b}),Object(I.jsxs)("div",{className:"button-container",children:[Object(I.jsx)("div",{className:"game-won-btn game-won-btn-".concat(o),onClick:r,children:Object(I.jsx)("span",{className:"span-".concat(o),children:v})}),!c&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Y.a,{active:d,config:w}),Object(I.jsx)("div",{className:"game-won-btn game-won-btn-".concat(o),onClick:n,children:Object(I.jsx)("span",{className:"span-".concat(o),children:"Keep Going!"})})]})]})]})})}),H=r.p+"static/media/logo.6ce24c58.svg",A=r(52),V=r(101),D=r(106),U=r(105),z=r(104),P=(r(74),r(46)),X=r(43),J=function(){var e=P.version,t=Object(T.c)(E),r=Object(l.a)(t,2),c=r[0],o=r[1],i=Object(a.useState)(null),s=Object(l.a)(i,2),d=s[0],u=s[1],b=Object(a.useState)((function(){return!(localStorage.getItem(j)||localStorage.getItem(m)||localStorage.getItem(g))})),v=Object(l.a)(b,2),h=v[0],f=v[1],O=h?"Cache is Clear":"Clear Cache";Object(a.useEffect)((function(){localStorage.setItem(g,c)}),[c]);var p=function(){localStorage.removeItem(g),localStorage.removeItem(m),localStorage.removeItem(j),f(!0)},w=function(e){o(e.target.value)};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{children:Object(I.jsx)(A.a,{id:"settings-cog",className:"settings-cog",size:"30px",onClick:function(e){return u(e.currentTarget)}})}),Object(I.jsx)(z.a,{open:null!==d,anchorEl:d,onClose:function(){return u(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(I.jsxs)("div",{className:"popover-body popover-body-".concat(c),children:[Object(I.jsx)("div",{className:"settings-item center",children:Object(I.jsx)("h3",{onClick:p,children:O})}),Object(I.jsx)(V.a,{}),Object(I.jsxs)("div",{className:"settings-item",children:[Object(I.jsx)("h3",{children:"Theme:"}),Object(I.jsxs)("div",{className:"center-item",children:[c===n.DARK?Object(I.jsx)(X.a,{size:"22px",className:"theme-icon"}):Object(I.jsx)(X.b,{size:"22px",className:"theme-icon"}),Object(I.jsx)(D.a,{className:"no-decoration",children:Object(I.jsx)(U.a,{value:c,className:"select-".concat(c),onChange:w,children:Object.values(n).map((function(e,t){return Object(I.jsx)("option",{value:e,children:e},t)}))})})]})]}),Object(I.jsx)(V.a,{}),Object(I.jsxs)("div",{className:"settings-item",children:[Object(I.jsx)("h3",{children:"Version:"}),Object(I.jsx)("h4",{className:"center-item",children:e})]}),Object(I.jsx)(V.a,{}),Object(I.jsxs)("div",{className:"settings-item ",children:[Object(I.jsx)("h3",{children:"Made with:"}),Object(I.jsx)("img",{src:H,className:"react-icon"})]})]})})]})},K=function(){var e=Object(T.d)(E),t=Object(a.useState)((function(){var e=localStorage.getItem(m);return new W(""!==e&&null!==e?JSON.parse(e):void 0)})),r=Object(l.a)(t,2),n=r[0],c=r[1],o=Object(a.useState)(n.started),i=Object(l.a)(o,2),s=i[0],u=i[1],b=Object(a.useState)((function(){var e=localStorage.getItem(j);return Object(d.a)(Object(d.a)({},F),{},{bestScore:e||F.bestScore})})),v=Object(l.a)(b,2),h=v[0],f=v[1],O=Object(L.useSwipeable)({onSwipedLeft:function(){c(Object(d.a)({},n.move("left")))},onSwipedUp:function(){c(Object(d.a)({},n.move("up")))},onSwipedRight:function(){c(Object(d.a)({},n.move("right")))},onSwipedDown:function(){c(Object(d.a)({},n.move("down")))}}),p=s?O:{};Object(a.useEffect)((function(){var e=function(){var e=document.getElementById("board-tile"),t=null===e||void 0===e?void 0:e.offsetWidth,r=null===e||void 0===e?void 0:e.offsetHeight;t&&(document.documentElement.style.setProperty("--tile-width","".concat(t,"px")),document.documentElement.style.setProperty("--tile-height","".concat(r,"px")))};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]),Object(a.useEffect)((function(){localStorage.setItem(m,JSON.stringify(n))}),[n]),s&&!(null===n||void 0===n?void 0:n.started)&&c(n.init());var g=function(){if(s)return localStorage.removeItem(m),c(Object(d.a)({},n.clear())),void w(0);u(!0)},w=function(e){if(e>parseInt(h.bestScore))return localStorage.setItem(j,e.toString()),void f({score:e,bestScore:e.toString()});f(Object(d.a)(Object(d.a)({},h),{},{score:e}))};return Object(I.jsxs)("div",{className:"App App-".concat(e),children:[Object(I.jsx)(J,{}),Object(I.jsx)("div",Object(d.a)(Object(d.a)({},p),{},{className:"content-area",children:Object(I.jsxs)("div",{className:"gameboard",children:[(!n.win&&S(n.board)||n.lose&&y(n.board))&&Object(I.jsx)(B,{isGameWon:!1,reset:function(){g()},keepGoing:function(){c(Object(d.a)({},n.setWin()))},renderForLose:n.lose}),Object(I.jsx)(k,{scores:h,startGame:s,handleStartGame:g,removeBestScore:function(){window.confirm("This will REMOVE your high-score, are you sure you'd like to continue?")&&(localStorage.removeItem(j),f(Object(d.a)(Object(d.a)({},F),{},{score:h.score})))}}),Object(I.jsx)(R,{gameboard:n,setGameboard:c,startGame:s,updateScore:w})]})}))]})},_=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,108)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),n(e),c(e),a(e),o(e)}))};s.a.render(Object(I.jsx)(o.a.StrictMode,{children:Object(I.jsx)(T.a,{children:Object(I.jsx)(K,{})})}),document.getElementById("root")),_()}},[[79,1,2]]]);
//# sourceMappingURL=main.5be017c0.chunk.js.map